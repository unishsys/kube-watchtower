import{Q as g,a as o,b as k}from"./QTable.e4e7b61b.js";import{r as y,f as x,P as n,S as b,T as a,V as i,U as t,Y as w,Z as r,_ as s,$ as l,Q as _,a0 as Q,a1 as v}from"./index.699d1513.js";import{Q as N}from"./QPage.0dea40c7.js";import{api as T}from"./axios.dc810ece.js";import{q as C}from"./vue3-apexcharts.3b66760e.js";import"./rtl.b51694b1.js";const q=i("p",{class:"text-h5 q-pt-xl text-weight-light"},"Containers Per Node",-1),B={class:"q-pt-xl"},I=i("p",{class:"text-h5 q-pt-xl text-weight-light"},"Nodes Info",-1),P={key:0},S={key:1},V=i("br",null,null,-1),M={__name:"HomePage",setup(z){const u=y([]),f=C,d=y({fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!1,opacityFrom:1,opacityTo:.7,stops:[0,90,100],colorStops:[]}},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.5},theme:{palette:"palette4"},tooltip:{enabled:!0,theme:"dark"},chart:{type:"bar"},plotOptions:{bar:{horizontal:!1,borderRadius:4}},series:[{name:"Total Containers",data:[]}]});function h(){T.get("/api/v1/node/").then(c=>{u.value=c.data.data,d.value.series[0].data=c.data.data.map(p=>({x:p.nodeName,y:p.containerCount}))})}return x(()=>{h()}),(c,p)=>(n(),b(N,{flex:"","flex-center":"",class:"q-ma-lg"},{default:a(()=>[i("div",null,[q,t(w(f),{ref:"chart",height:"300",type:"bar",options:d.value,series:d.value.series},null,8,["options","series"])]),i("div",B,[I,t(k,{flat:"",bordered:"",title:"",rows:u.value,"row-key":"nodeName","binary-state-sort":""},{body:a(e=>[t(g,{props:e},{default:a(()=>[t(o,{key:"nodeName",props:e},{default:a(()=>[r(s(e.row.nodeName),1)]),_:2},1032,["props"]),t(o,{key:"cpuQuantity",props:e},{default:a(()=>[r(s(e.row.cpuQuantity),1)]),_:2},1032,["props"]),t(o,{key:"memoryQuantity",props:e},{default:a(()=>[r(s(e.row.memoryQuantity),1)]),_:2},1032,["props"]),t(o,{key:"podQuantity",props:e},{default:a(()=>[r(s(e.row.podQuantity),1)]),_:2},1032,["props"]),t(o,{key:"containerCount",props:e},{default:a(()=>[r(s(e.row.containerCount),1)]),_:2},1032,["props"]),t(o,{key:"ready",props:e},{default:a(()=>[e.row.ready?(n(),l("div",P,[t(_,{name:"check_circle",size:"2em",color:"green-12"})])):(n(),l("div",S,[t(_,{name:"error",size:"2em",color:"red-12"})]))]),_:2},1032,["props"]),t(o,{key:"conditions",props:e},{default:a(()=>[(n(!0),l(v,null,Q(e.row.conditions,m=>(n(),l("span",{key:m.type},[r(s(m.message)+" ",1),V]))),128))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])])]),_:1}))}};export{M as default};
